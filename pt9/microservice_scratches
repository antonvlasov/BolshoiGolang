1. Транзакции между сервисами.

    Atomicity, Consistency, Isolation, and Durability

    приложение -> база данных

    1. Приложение А пишет что-то в приложение Б
    2. Приложение Б пишет что-то в базу данных 1
    3. Приложение А пишет что-то в базу данных 2

    что если фейл на этапе 3?

    1. Откатить изменения в бд 1 (saga)
    2. Доставить изменения в бд 2 (outbox)

2. Восстановление после сбоя

    Есть сервисы А и Б. Изменения из сервиса А передаются в сервис Б и там хранятся персистентно.

    Сервис А передал что-то в сервис Б и думает что сделал это успешно. Сервис Б сдох как раз в этот момент и не учел изменения.

    1. Polling сервисом Б сервиса А на изменения. Может гоняться много лишних данных.
    2. Очередь данных с сохраненим операций. Сервис Б при ошибке восстанавливает состояние из всей очереди данных.
    3. Чекпоинты + очередь.

3. Репликация

stateless сервесы (идемпонетнтые операции)
stateful сервесы -> алгоритм консенсуса

4. Шардирование

